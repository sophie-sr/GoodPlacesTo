  <head>
    <title>GoodPlacesTo...</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
  </head>
  <body>
    <div class="navbar">
        <a href="/home"><i class="fas fa-home"></i></a>
        <a href="/login" style="float:right"><form action = '/logout?_method=DELETE' method="POST">
            <button type="submit">Log Out</button>
        </form></a>
        <div class="dropdown" style="float:right">
            <button class="dropbtn">Maps <i class="fa fa-caret-down"></i></button>
            <div class="dropdown-content">
            <a href="/waterFountains">Water Fountains</a>
            <a href="home.html">Washrooms</a>
            <a href="home.html">Showers</a>
            </div>
        </div> 
    </div>

    <div id="map"></div>
    <div id="ratingsAll">asd</div>
    <script async defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAhuU--XyLO1fUzpz3ZflOJ0Qpw1MM5nQk&callback=initMap&libraries=&v=beta">
    </script>
    <script>function initMap() {
        let lastStarPicked = -1;
    
        var map = new google.maps.Map(document.getElementById("map"), {
          center: { lat: 48.4632568359375, lng: -123.31224060058594 },
          zoom: 15,
          mapId: "DEMO_MAP_ID",
        });
    
        var markers = [
        {
            coords: {lat: 48.4632568359375, lng: -123.31224060058594},
            content: makeContent("hey", 4)
        },
        {
            coords:{lat: 48.46119550869299, lng: -123.3113826625658},
            content: "<h3>ECS</h3>"
        },
        ];
    
        // Loop through markers
        for(var i = 0; i<markers.length; i++){
            addMarker(markers[i]);
        }
        
        function addMarker(props){
            var marker = new google.maps.Marker({
                position: props.coords,
                map: map,
            });
    
            if(props.content){
                var infoWindow = new google.maps.InfoWindow({
                    content: props.content,
                });
    
                marker.addListener("click", function(){
                    infoWindow.open(map, marker);
                });
            }
        }
    
        /**
         * makes content hopefully
         * @param {string} header 
         * @param {int} rating 
         * 
         * @returns html element
         */
        function makeContent(header, rating) {
            let outerDiv = document.createElement('div');
            outerDiv.classList.add('container');
            outerDiv.innerHTML = 
            `<form method="post" action="/waterFountains">
            <div class="star-widget">
            <h3 id='ratingHeader'>Rate</h3>
              <input type="radio" value="rate5" name="rate5" id="rate-5" onclick="sessionStorage.setItem('rating', 5)">
              <label for="rate-5" class="fas fa-star"></label>
              <input type="radio" value="rate4" name="rate4" id="rate-4" onclick="sessionStorage.setItem('rating', 4)">
              <label for="rate-4" class="fas fa-star"></label>
              <input type="radio" value="rate3" name="rate3" id="rate-3" onclick="sessionStorage.setItem('rating', 3)">
              <label for="rate-3" class="fas fa-star"></label>
              <input type="radio" value="rate2" name="rate2" id="rate-2" onclick="sessionStorage.setItem('rating', 2)">
              <label for="rate-2" class="fas fa-star"></label>
              <input type="radio" value="rate1" name="rate1" id="rate-1" onclick="sessionStorage.setItem('rating', 1)">
              <label for="rate-1" class="fas fa-star"></label>
                <div class="textarea">
                    <textarea cols="30" placeholder="Description of rating..."></textarea>
                </div>
                <div class="btn">
                <button type='submit' id="submit">Submit</button>
                </div>
              </form>
            </div>`;
    
            return outerDiv;
        }
    
        const btn = document.querySelector("button");
        const post = document.querySelector(".post");
        const widget = document.querySelector(".star-widget");
        const editBtn = document.querySelector(".edit");
        btn.onclick = ()=>{
            widget.style.display = "none";
            post.style.display = "block";
            editBtn.onclick = ()=>{
                widget.style.display = "block";
                post.style.display = "none";
            }
            return false;
        }
    }</script>
  </body>

  <style>
    .right-side {
    display: flex;
    padding-left: 70%;
    padding-right: 0px;
}

/***/
.navbar {
    overflow: hidden;
    background-color: white;
    color: black;
    height: 7%;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.035);
}

.navbar a {
    float: left;
    font-size: 16px;
    color: black;
    text-align: center;
    padding: 14px 16px;
    text-decoration: none;

    opacity: 0.6;
    transition: 0.3s;
}

.dropdown {
    float: left;
    overflow: hidden;
}

.dropdown .dropbtn {
    font-size: 16px;  
    border: none;
    outline: none;
    color: black;
    padding: 14px;
    background-color: inherit;
    font-family: inherit;
    margin: 0;

    opacity: 0.6;
    transition: 0.3s;
}

.navbar a:hover, .dropdown:hover .dropbtn {
    opacity: 1;
}

.dropdown-content {
    display: none;
    position: absolute;
    background-color: #f9f9f9;
    min-width: 160px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 1;
}

.dropdown-content a {
    float: none;
    color: black;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
    text-align: left;
}

.dropdown-content a:hover {
    background-color: #ddd;
}

.dropdown:hover .dropdown-content {
    display: block;
}

*,
*:before,
*:after{
    padding: 0;
    margin: 0;
    box-sizing: border-box;
}

body{
    background-color: white;
    height: 100vh;
    font-family: "Poppins",sans-serif;
}

.content {
    font-size: 45px;
    font-weight: 500;
    display: grid;
    place-items: center;
    /* height: 0vh; */
    height: 93%;

    padding: 0;
    margin: 0;
    box-sizing: border-box;
    font-family: "Poppins",sans-serif;
    font-size: 45px;
    font-weight: 500;
}
.wrapper{
    box-sizing: content-box;
    background-color: #ffffff;
    height: 70px;
    padding: 50px 30px;
    display: flex;
    border-radius: 8px;
    box-shadow: 0 20px 35px rgba(0,0,0,0.2);
}
.words{
    overflow: hidden;
}
.words span{
    display: block;
    height: 100%;
    padding-left: 10px;
    color: #0e6ffc;
    animation: spin_words 6s infinite;
}
@keyframes spin_words{
    50%{
        transform: translateY(-112%);
    }
    25%{
        transform: translateY(-100%);
    }
    35%{
        transform: translateY(-212%);
    }
    50%{
        transform: translateY(-200%);
    }
    60%{
        transform: translateY(-312%);
    }
    75%{
        transform: translateY(-300%);
    }
    85%{
        transform: translateY(-412%);
    }
    100%{
        transform: translateY(-400%);
    }
}

#map {
    height: 93%;
    width: 80%;
}

.container{
  position: relative;
  width: 400px;
  background: white;
  /* padding: 30px 30px; */
  border-radius: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  font-size: 14px;
  overflow: auto;
}

.container .post{
  display: none;
}

.container .edit{
  position: absolute;
  right: 10px;
  top: 5px;
  font-size: 16px;
  color: #666;
  font-weight: 500;
  cursor: pointer;
}
.container .edit:hover{
  text-decoration: underline;
}
.container .star-widget input{
  display: none;
}

.star-widget label{
  font-size: 40px;
  color: #444;
  padding: 10px;
  float: right;
  transition: 0.2s;
}

input:not(:checked) ~ label:hover,
input:not(:checked) ~ label:hover ~ label{
  color: #fd4;
}

input:checked ~ label{
  color: #fd4;
}

input:checked ~ form{
  display: block;
}

form .textarea{
    height: 100px;
    width: 100%;
    overflow: auto;
}

form .textarea textarea{
    height: 80%;
    width: 100%;
    outline: none;
    color: black;
    border: 1px solid #333;
    background: white;
    padding: 10px;
    font-size: 16px;
    resize: none;
    border-radius: 8px;
    margin-top: 10px;

    opacity: 0.6;
    transition: 0.3s;
}

.textarea textarea:focus{
    opacity: 1;
}

.textarea textarea:hover{
    opacity: 1;
}

form .btn{
  height: 45px;
  width: 100%;
  margin: 15px 0;
}

form .btn button{
  height: 100%;
  width: 100%;
  outline: none;
  background: white;
  border: none;
  color: black;
  font-size: 16px;
  cursor: pointer;
  opacity: 0.6;
  transition: 0.3s;
}

form .btn button:hover{
    opacity: 1;
}

/* Scrollbar */
::-webkit-scrollbar {
    width: 10px;
}

::-webkit-scrollbar-track {
    background: #f1f1f1; 
}

::-webkit-scrollbar-thumb {
    background: #888; 
}

::-webkit-scrollbar-thumb:hover {
    background: #555; 
}
  </style>